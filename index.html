<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tanner West - Interactive Resume Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            background-image: radial-gradient(circle at top left, #1e293b, #0f172a);
            /* Ensure body takes full viewport height for proper flex behavior */
            min-height: 100vh;
        }
        /* Adjusted scrollbar styles */
        #chat-window::-webkit-scrollbar { width: 6px; }
        #chat-window::-webkit-scrollbar-track { background: #1e293b; }
        #chat-window::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
        #chat-window::-webkit-scrollbar-thumb:hover { background: #64748b; }
        .message-bubble-user { background-color: #2563eb; }
        .message-bubble-bot { background-color: #334155; }
        .prose ul { list-style-type: disc; padding-left: 1.5rem; margin-top: 0.5rem; margin-bottom: 0.5rem; }
        .prose a { color: #60a5fa; text-decoration: underline; }
        .prose a:hover { color: #93c5fd; }
        .prose strong { color: #f8fafc; }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 8px -2px #3b82f6; }
            50% { box-shadow: 0 0 12px 0px #3b82f6; }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .panel-glow { animation: glow 4s ease-in-out infinite; }
        .message-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="text-slate-200 flex items-center justify-center min-h-screen p-4">

    <main class="w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 flex-grow">
        <div class="lg:col-span-1 bg-slate-900/70 border border-slate-700 rounded-2xl p-8 flex flex-col shadow-2xl backdrop-blur-sm panel-glow">
            <div>
                <img class="w-32 h-32 rounded-full mx-auto ring-4 ring-slate-700" src="tanner.png" alt="Tanner West">
                <h1 class="text-center text-3xl font-bold mt-6 text-white">Tanner West</h1>
                <h2 class="text-center text-lg text-blue-400 font-medium">Game Developer & Sound Designer</h2>
                <p class="text-slate-400 mt-4 text-center text-sm">Active professional with over 6 years of hands-on experience in sound design and object-oriented programming.</p>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-700">
                <h3 class="text-white font-semibold">Resume & Links</h3>
                <div class="mt-4 space-y-3">
                    <a href="https://docs.google.com/document/d/1-YDX3SCVV28yqYZE9dz4kZC7v-9CdMJsTbyCrj8BSYo/edit?usp=sharing" target="_blank" class="flex items-center space-x-3 text-slate-300 hover:text-blue-400 transition-colors duration-300 group">
                        <svg class="w-6 h-6 flex-shrink-0 text-slate-500 group-hover:text-blue-400 transition-colors" fill="currentColor" viewBox="0 0 256 256" role="img"><title>Portfolio Document</title><path d="M216,40H88a16,16,0,0,0-16,16V88H40a16,16,0,0,0-16,16v96a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V184h32a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM160,192H48V112H160Zm48-48H184V112a16,16,0,0,0-16-16H80V64H208Z"></path></svg>
                        <span>Resume Document</span>
                    </a>
                    <a href="https://itch.io/profile/twest-games" target="_blank" class="flex items-center space-x-3 text-slate-300 hover:text-blue-400 transition-colors duration-300 group">
                        <svg class="w-6 h-6 flex-shrink-0 text-slate-500 group-hover:text-blue-400 transition-colors" fill="currentColor" viewBox="0 0 256 256" role="img"><title>Itch.io</title><path d="M216,40H88a16,16,0,0,0-16,16V88H40a16,16,0,0,0-16,16v96a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V184h32a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM160,192H48V112H160Zm48-48H184V112a16,16,0,0,0-16-16H80V64H208Z"></path></svg>
                        <span>itch.io Profile</span>
                    </a>
                    <a href="mailto:tannerjwest@gmail.com" class="flex items-center space-x-3 text-slate-300 hover:text-blue-400 transition-colors duration-300 group">
                        <svg class="w-6 h-6 flex-shrink-0 text-slate-500 group-hover:text-blue-400 transition-colors" fill="currentColor" viewBox="0 0 256 256" role="img"><title>Email</title><path d="M224,48H32a16,16,0,0,0-16,16V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm-8,6L128,128,40,54ZM224,192H32V68.8l88,71a8,8,0,0,0,9.6,0l88-71V192Z"></path></svg>
                        <span>tannerjwest@gmail.com</span>
                    </a>
                    <a href="https://www.linkedin.com/in/tanner-west-a886b1255/" target="_blank" class="flex items-center space-x-3 text-slate-300 hover:text-blue-400 transition-colors duration-300 group">
                        <svg class="w-6 h-6 flex-shrink-0 text-slate-500 group-hover:text-blue-400 transition-colors" fill="currentColor" viewBox="0 0 256 256" role="img"><title>LinkedIn</title><path d="M224,48H32a16,16,0,0,0-16,16V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm-8,6L128,128,40,54ZM224,192H32V68.8l88,71a8,8,0,0,0,9.6,0l88-71V192Z"></path></svg>
                        <span>LinkedIn</span>
                    </a>
                </div>
            </div>
            <div class="mt-auto pt-6 text-center text-xs text-slate-500">
                <p>By using this interactive resume created by Tanner West, you agree that your questions, the assistant's responses, the time, and your approximate geographical location (derived from your IP address or browser's geolocation services) may be collected. This data is used solely to improve the functionality of this resume assistant and understand user engagement, in compliance with applicable privacy laws, including the California Consumer Privacy Act (CCPA). Your personal identity is not directly collected or stored.</p>
            </div>
        </div>

        <div class="lg:col-span-2 bg-slate-900/70 border border-slate-700 rounded-2xl shadow-2xl flex flex-col flex-grow backdrop-blur-sm panel-glow">
            <div class="p-5 border-b border-slate-700 rounded-t-2xl">
                <h1 class="text-xl font-bold text-white">Interactive Assistant</h1>
                <p class="text-slate-400 text-sm mt-1">Try asking: "How do you approach debugging?"</p>
            </div>
            <div id="chat-window" class="flex-1 p-6 overflow-y-auto space-y-6"></div>
            <div id="loading-indicator" class="hidden p-6 pt-0">
                <div class="flex items-center space-x-3"><div class="w-2 h-2 rounded-full bg-blue-400 animate-pulse"></div><div class="w-2 h-2 rounded-full bg-blue-400 animate-pulse" style="animation-delay: 0.2s;"></div><div class="w-2 h-2 rounded-full bg-blue-400 animate-pulse" style="animation-delay: 0.4s;"></div><p class="text-slate-400 text-sm">Assistant is thinking...</p></div>
            </div>
            <div class="p-5 border-t border-slate-700">
                <form id="chat-form" class="flex items-start space-x-4">
                    <textarea id="chat-input" placeholder="Ask a question..." rows="1" class="flex-1 p-3 bg-slate-800 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-slate-200 placeholder-slate-500 resize-none overflow-y-hidden"></textarea>
                    <button type="submit" class="bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-900 transition shadow-lg shadow-blue-600/20 self-end">Send</button>
                </form>
            </div>
        </div>
    </main>

    <script>
        const resumeData = {
            fullName: "Tanner West",
            jobTitle: "Game Developer & Sound Designer",
            summary: "Active professional with over 6 years of hands-on experience in sound design and object-oriented programming...",
            experience: [
                { title: "Developer", company: "Streaming Global", period: "May 2024 - May 2025", details: ["Built client and prospect demo projects using Unreal Engine 5.", "Created internal tools using C#, Visual Studio, and WPF."] },
                { title: "Sound Designer (Contractor)", company: "Breakthrough Games | Havoc", period: "July 2023 - May 2024", details: ["Created and refined sound effects for game weapons, items, and more.", "Composed the original soundtrack."] },
                { title: "Sound Designer", company: "Surreal Entertainment", period: "May 2023 - August 2023", details: ["Designed and produced sounds for Sephora, Louis Vuitton, and Global Payments augmented reality experiences.", "Communicated with clients to understand brand identity."] }
            ],
            education: [
                { degree: "High School Diploma", institution: "Innovation Academy High School (STEAM Magnet)", period: "Class of 2025", details: "Graduated CUM LAUDE with an 89.5/100 GPA." },
                { degree: "Sights Nâ€™ Sounds Program", institution: "Dekalb County Office of Youth Services", details: "Participated in a three-month program visiting respected production studios in the Greater Atlanta area." }
            ],
            skills: {
                programming: ["C#", "Python", "Java"],
                gameEngines: ["Unity Engine", "Unreal Engine", "Godot"],
                developmentTools: ["Visual Studio", "XAML", "WPF", "Blender", "Git", "Jira", "Trello", "Slack", "Confluence"],
                audio: ["Sound Design", "Music Production", "Ableton Live", "Synthesizers", "Wwise", "FMOD"],
                networking: ["FishNetworking", "Unity Online Services"]
            },
            projects: [
                { name: "Flop (HGS)", description: "Solo indie game project (Flop is the new version, HGS was the game jam version) developed using Unity, Blender, and Ableton. It incorporates networking with FishNetworking and Unity Online Services.", link: "N/A" },
                { name: "Airblast", description: "Served as the main programmer and composer for this Godot project made for the Technology Student Association state competition in 2021.", link: "https://airblast.itch.io/airblast" },
                { name: "Roll N' Run", description: "A 2022 GMTK Game Jam entry made in Unity3D. Contributions include creating the movement, sounds, and 4 levels.", link: "https://alexrak2.itch.io/roll-n-run" },
                { name: "Lumen Keys", description: "A Stepmania-like speedrunning game created in under 2 days with a team. Worked on MIDI-based procedural level generation, the scoreboard, and other systems.", link: "https://dubscr.itch.io/lumen-keys" },
                { name: "Depths", description: "A horror game created in less than 3 days for the Ludum Dare 2025 game jam. Handled all sound design, level design, and some programming.", link: "https://alexrak2.itch.io/depths" }
            ],
            interviewInsights: {
                motivation: {
                    origin: "Became addicted to creating games after downloading Scratch at a young age. This passion expanded into sound design and composition, complementing a strong experience in programming.",
                    passion: "Grew up playing and watching eSports, with games like Fortnite, Rocket League, and Call of Duty sparking interest and passion in the field.",
                    successDefinition: "A successful project is a useful one that effectively accomplishes its design goals."
                },
                technicalProcess: {
                    newProjectApproach: "Starts with an ideation phase and then sets up the project structure and necessary tools.",
                    engineChoice: "Has experience with Unity, Unreal, and Godot, noting that Godot is the one he's least experienced with but still familiar.",
                    debugging: "Enjoys the process of debugging. If a problem is too difficult, he will step back to think about the issue from a different perspective before returning to solve it.",
                    codeStandards: "Follows coding standards and constantly checks his own code for readability to ensure it is maintainable.",
                    favoriteLanguage: "Loves making development tools and games with C#."
                },
                projectDeepDive: {
                    challenge: "On 'Lumen Keys', the biggest challenge was creating procedural map generation from a MIDI file input in just a couple of hours. This was accomplished by using an external MIDI library and maintaining intense focus.",
                    whatIWouldDoDifferently: "Would dedicate more time to the ideation phase of a project before diving into development.",
                    proudestMoment: "Is proud of the 'spacey and dark' sound design created for the horror game 'Depths', and the advanced scoreboard system for 'Lumen Keys' which was built very quickly.",
                    constraints: "Understands the importance of managing project scope under tight deadlines, like in a game jam, to avoid feature creep and personal burnout."
                },
                teamwork: {
                    soloVsTeam: "Notes that the biggest difference in working solo (like on 'Flop'/'HGS') is the reduced need for constant communication compared to team projects.",
                    disagreements: "Handles creative differences by making sure to hear out all sides of a discussion and playing devil's advocate to find the best solution.",
                    pmTools: "Has extensive project management experience using tools like Trello, Jira, and Confluence across work, school, and hobby projects.",
                    feedback: "Prefers feedback that is honest and direct, but delivered in a constructive way.",
                    conflictResolution: "In school teams, conflicts were resolved by understanding each other's perspectives, taking time to think, and addressing issues afterward."
                },
                audioPhilosophy: {
                    philosophy: "Believes that the primary goal of sound design in games is to enhance player immersion. The better the immersion, the more successful the sound design. Adaptive music can help immersion if it isn't made to be noticeable.",
                    sfxWorkflow: "A typical sound effect workflow is: design in Ableton, implement and mix with middleware like Wwise or FMOD, and finally integrate into the game engine (Unity/Unreal).",
                    compositionWorkflow: "When composing, he creates multiple 'prototypes' or track variations and then selects the best ones to develop further."
                },
                strengthsWeaknesses: {
                    strengths: ["Ability to sit down and focus for a very long time", "Problem-solving skills", "Collaboration skills"],
                    weaknessImprovement: "Constantly working on improving communication."
                },
                careerGoals: {
                    futureVision: "Aims to make the world a better place with his skills, specifically seeing himself in either entertainment or entrepreneurship, or both.",
                },
                learningGrowth: {
                    stayingUpdated: "Is always the first to adopt new technologies and constantly searches for innovations that can change the world, attempting to incorporate them into his workflow."
                }
            }
        };

        const chatWindow = document.getElementById('chat-window');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const loadingIndicator = document.getElementById('loading-indicator');

        document.addEventListener('DOMContentLoaded', () => { appendMessage('bot', `Hello! I'm an AI assistant for ${resumeData.fullName}'s resume. How can I help you?`); });

        let userGeolocation = "Unknown";

        // Function to get approximate geolocation, preferring browser API then falling back to IP
        const getApproximateLocation = async () => {
            return new Promise(async (resolve) => {
                const geolocationTimeout = setTimeout(() => {
                    // If navigator.geolocation times out, try IP lookup
                    getIpBasedLocation().then(resolve);
                }, 5000); // 5-second timeout for navigator.geolocation

                if ("geolocation" in navigator) {
                    navigator.geolocation.getCurrentPosition(
                        async (position) => {
                            clearTimeout(geolocationTimeout);
                            try {
                                const lat = position.coords.latitude;
                                const lon = position.coords.longitude;
                                const geoResponse = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=10&addressdetails=1`);
                                if (!geoResponse.ok) throw new Error('Failed to fetch reverse geocoding data.');
                                const geoData = await geoResponse.json();

                                let cityInfo = "Unknown City";
                                if (geoData.address) {
                                    const address = geoData.address;
                                    cityInfo = [
                                        address.city || address.town || address.village,
                                        address.state || address.region,
                                        address.country
                                    ].filter(Boolean).join(', ');
                                }
                                userGeolocation = cityInfo;
                                resolve(userGeolocation);
                            } catch (error) {
                                console.warn(`Reverse Geocoding error: ${error.message}. Falling back to IP lookup.`);
                                getIpBasedLocation().then(resolve);
                            }
                        },
                        (error) => {
                            clearTimeout(geolocationTimeout);
                            console.warn(`Navigator Geolocation error: ${error.message}. Falling back to IP lookup.`);
                            // Fallback to IP lookup if navigator.geolocation fails
                            getIpBasedLocation().then(resolve);
                        },
                        {
                            enableHighAccuracy: false,
                            timeout: 5000,
                            maximumAge: 0
                        }
                    );
                } else {
                    clearTimeout(geolocationTimeout);
                    console.log("Navigator Geolocation is not supported by this browser. Falling back to IP lookup.");
                    // Fallback to IP lookup if navigator.geolocation is not supported
                    getIpBasedLocation().then(resolve);
                }
            });
        };

        // Function to get location based on IP address
        const getIpBasedLocation = async () => {
            try {
                // Get public IP address
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                if (!ipResponse.ok) throw new Error('Failed to fetch IP address.');
                const ipData = await ipResponse.json();
                const ip = ipData.ip;

                // Get geolocation from IP
                const geoResponse = await fetch(`https://ipinfo.io/${ip}/json`);
                if (!geoResponse.ok) throw new Error('Failed to fetch IP geolocation data.');
                const geoData = await geoResponse.json();

                if (geoData.city && geoData.region && geoData.country) {
                    return `${geoData.city}, ${geoData.region}, ${geoData.country}`;
                } else if (geoData.country) {
                    return geoData.country;
                } else {
                    return `IP: ${ip} (Location details incomplete)`;
                }
            } catch (error) {
                console.error("IP Geolocation error:", error);
                return "Unknown (IP lookup failed)";
            }
        };

        // Call to get geolocation when the page loads
        getApproximateLocation().then(location => {
            userGeolocation = location;
            console.log("User's approximate location:", userGeolocation);
        });


        const submitToGoogleForm = async (question, response, timestamp, location) => {
            const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSelKdQryTwTqxBi2mdD8MTFlaumzbU5wLOyUdlxAmHKyXHmEQ/formResponse";
            const data = new URLSearchParams();
            data.append("entry.381895239", location); // LOCATION
            data.append("entry.1883556177", question); // QUESTION
            data.append("entry.1654512419", response); // RESPONSE
            // You might want to add a field for timestamp in your Google Form if not already there
            // data.append("entry.YOUR_TIMESTAMP_FIELD_ID", timestamp);

            try {
                await fetch(formUrl, {
                    method: "POST",
                    mode: "no-cors",
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: data.toString(),
                });
                console.log("Response successfully submitted to Google Form.");
            } catch (error) {
                console.error("Error submitting to Google Form:", error);
            }
        };


        const submitForm = async () => {
            const userMessage = chatInput.value.trim();
            if (!userMessage) return;
            appendMessage('user', userMessage);
            chatInput.value = '';
            chatInput.style.height = 'auto';
            loadingIndicator.classList.remove('hidden');
            chatWindow.scrollTop = chatWindow.scrollHeight;

            let botResponse = '';
            try {
                botResponse = await getBotResponse(userMessage);
                appendMessage('bot', botResponse);
            } catch (error) {
                console.error("Error getting bot response:", error);
                botResponse = `Sorry, there was an error connecting to the assistant. Details: ${error.message}`;
                appendMessage('bot', botResponse);
            } finally {
                loadingIndicator.classList.add('hidden');
                // Submit data to Google Form
                const timestamp = new Date().toISOString();
                submitToGoogleForm(userMessage, botResponse, timestamp, userGeolocation);
            }
        };

        chatForm.addEventListener('submit', (e) => { e.preventDefault(); submitForm(); });
        chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); submitForm(); } });
        chatInput.addEventListener('input', () => { chatInput.style.height = 'auto'; chatInput.style.height = (chatInput.scrollHeight) + 'px'; });

        function appendMessage(sender, message) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `flex items-start gap-3 message-fade-in ${sender === 'user' ? 'flex-row-reverse' : ''}`;
            const avatar = document.createElement('div');
            avatar.className = 'w-8 h-8 rounded-full bg-slate-700 flex-shrink-0 flex items-center justify-center font-bold text-sm';
            avatar.textContent = sender === 'user' ? 'You' : 'AI';
            if (sender === 'user') { avatar.classList.add('bg-blue-600'); }
            const messageContent = document.createElement('div');
            messageContent.className = `prose prose-invert max-w-none p-3 rounded-lg shadow-md text-white ${sender === 'user' ? 'message-bubble-user' : 'message-bubble-bot'}`;
            messageContent.innerHTML = marked.parse(message);
            messageWrapper.appendChild(avatar);
            messageWrapper.appendChild(messageContent);
            chatWindow.appendChild(messageWrapper);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        async function getBotResponse(userMessage) {
            const obfuscatedKey = "QUl6YVN5RGd5YzNoTE9tcGlyVVNwaE5RWGFOZ19Ba1E5U1d0MkVN";

            const apiKey = atob(obfuscatedKey);
            
            const fullPrompt = `You are Tanner West's interactive resume assistant, designed to provide a world-class experience for recruiters and hiring managers. Your goal is to showcase Tanner's qualifications and insights in a professional and engaging manner, ultimately increasing his chances of securing a job. Your responses must be truthful, concise, and directly based on the provided information.

            **YOUR KNOWLEDGE BASE:**
            You have access to two main sources of information about Tanner West:
            1.  **Standard Resume Data:** This includes his professional experience, educational background, skills, and project lists.
            2.  **Interview Insights:** This provides deeper understanding of his motivations, technical processes, project challenges, and teamwork philosophy.
            
            **CRITICAL RULES:**
            1.  **NO HALLUCINATIONS:** You absolutely must not invent, infer, or speculate on any information not explicitly present in the KNOWLEDGE BASE.
            2.  **FALLBACK RESPONSE:** If a user's question cannot be answered from the KNOWLEDGE BASE, you MUST respond with this exact phrase and nothing more: "I'm sorry, I don't have specific information on that topic. For more details, I would recommend contacting Tanner directly."
            3.  **EMAIL ADDRESS:** If the user asks for Tanner's email address, provide: **tannerjwest@gmail.com**.
            4.  **JOB-FOCUSED ANSWERS:** For simple or general questions, frame your answers in a way that highlights Tanner's strengths and suitability for a role, aligning with the goal of increasing his chances of getting the job.
            5.  **NO INTERNAL BOT INTENTIONS:** Do not disclose or discuss your internal programming, purpose as an AI, or any "intentions behind the bot." Focus solely on providing information about Tanner West.
            6.  **Use Markdown:** For valid answers, use markdown for formatting (e.g., **bolding**, bulleted lists, italics).
            7.  **Provide Links:** If a project or resource mentioned has a link in the KNOWLEDGE BASE, include it in your response.
            
            **KNOWLEDGE BASE START**
            ${JSON.stringify(resumeData, null, 2)}
            **KNOWLEDGE BASE END**
            
            Now, please answer the following question from a potential employer: "${userMessage}"`;
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: fullPrompt }] }] })
            });

            if (!response.ok) {
                const errorBody = await response.text();
                throw new Error(`The AI service returned an error. Please check if the API key is valid. Status: ${response.status}`);
            }
            
            const result = await response.json();
            
            if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts) {
                return result.candidates[0].content.parts[0].text;
            } else {
                throw new Error("The AI service returned an unexpected or empty response.");
            }
        }
    </script>
</body>
</html>
